(this["webpackJsonpmeli-app"]=this["webpackJsonpmeli-app"]||[]).push([[0],{38:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(0),r=c(13),i=c.n(r),a=c(7),o=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),r(e),i(e)}))},u=c(9),l=c(3),j=c(28),d=(c(38),Object(l.g)((function(e){var t=e.history,c=Object(s.useState)(""),r=Object(j.a)(c,2),i=r[0],a=r[1],o=function(e){"Enter"===e.key&&t.push("/items?search=".concat(i)),a(e.target.value)};return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("img",{src:"/images/ml.png",className:"logo",alt:"Mercado Libre logo",onClick:function(){a(""),t.push("/")}}),Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)("input",{type:"text",placeholder:"Nunca dejes de buscar",name:"search",value:i,onChange:o,onKeyDown:o}),Object(n.jsx)("button",{onClick:function(){return t.push("/items?search=".concat(i))},children:Object(n.jsx)("img",{src:"/images/buscar.png",alt:"search icon"})})]})]})}))),b=c(26),h=c.n(b),p=c(12),O=c.n(p),f=c(22),x="START_GET_PRODUCTS",m="SUCCES_GET_PRODUCTS",g="ERROR_GET_PRODUCTS",v="START_GET_PRODUCT_DETAILS",N="SUCCES_GET_PRODUCT_DETAILS",T="ERROR_GET_PRODUCT_DETAILS",y="/api",C=function(){var e=Object(f.a)(O.a.mark((function e(t,c){var n,s,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:x}),e.next=4,fetch("".concat(y,"/items?q=").concat(c));case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,r=s.data.products.slice(0,4),i=s.data.categories||[],t({type:m,products:r,filters:i}),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),t({type:g}),e.t0;case 17:case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,c){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(O.a.mark((function e(t,c){var n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:v}),e.next=5,fetch("".concat(y,"/items/").concat(c));case 5:return n=e.sent,e.next=8,n.json();case 8:s=e.sent,t({type:N,productDetail:s.data,filters:s.data.item.categories}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t({type:T});case 16:case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,c){return e.apply(this,arguments)}}(),D=(c(53),function(e){var t=e.filters,c=void 0===t?[]:t;return Object(n.jsx)("div",{className:"breadcrumb",children:Object(n.jsx)("p",{children:c.join(" > ")})})}),E=(c(54),Object(l.g)((function(e){var t,c=e.history,s=e.product,r=e.last,i=s.item,a=i.price,o=a.currency,u=a.amount,l=i.title,j=i.picture,d=i.city,b=s._id;return r||(t=Object(n.jsx)("hr",{className:"division"})),Object(n.jsxs)("div",{className:"product",children:[Object(n.jsxs)("section",{className:"product-item",onClick:function(){return c.push("/items/".concat(b))},children:[Object(n.jsx)("img",{src:j,height:"180",width:"180"}),Object(n.jsxs)("div",{className:"product-info",children:[Object(n.jsx)("h3",{children:"".concat(o," ").concat(u)}),Object(n.jsx)("p",{children:l})]}),Object(n.jsx)("small",{children:d})]}),t]})}))),R=(c(55),function(){return Object(n.jsx)("div",{className:"loader"})}),S=(c(56),function(e){var t=e.text;return Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("h3",{children:t})})}),w=(c(57),function(){var e,t,c,r=Object(l.f)(),i=r.search,o=h.a.parse(i),u=Object(a.c)((function(e){return e.products})),j=Object(a.c)((function(e){return e.filters})),d=Object(a.c)((function(e){return e.loading})),b=Object(a.b)();return Object(s.useEffect)((function(){C(b,o.search)}),[r]),d?e=Object(n.jsx)(R,{}):u.length?c=Object(n.jsx)("section",{className:"list",children:u.map((function(e,t){return Object(n.jsx)(E,{product:e,last:t===u.length-1},e._id)}))}):t=Object(n.jsx)(S,{text:"No existen productos que coincidan con la b\xfasqueda"}),Object(n.jsxs)("div",{className:"products",children:[Object(n.jsx)(D,{filters:j}),e,t,c]})}),k=(c(58),Object(l.g)((function(e){var t,c,r=Object(a.c)((function(e){return e.productDetail})),i=Object(a.c)((function(e){return e.filters})),o=Object(a.c)((function(e){return e.loading})),u=Object(a.b)();if(Object(s.useEffect)((function(){_(u,e.match.params.id)}),[]),o)t=Object(n.jsx)(R,{});else{var l=r.item,j=l.price,d=j.currency,b=j.amount,h=j.decimals,p=l.condition,O=l.sold_quantity,f=l.title,x=l.picture,m=l.description,g=p;if(p&&"nuevo"===p.toLowerCase()){var v=1===O?"vendido":"vendidos";g="".concat(p," - ").concat(O," ").concat(v)}c=Object(n.jsxs)("div",{children:[Object(n.jsx)(D,{filters:i}),Object(n.jsxs)("section",{className:"product-info",children:[Object(n.jsxs)("div",{className:"information",children:[Object(n.jsx)("img",{src:x,alt:"Product detail image"}),Object(n.jsxs)("div",{className:"details",children:[Object(n.jsx)("h5",{className:"condition",children:g}),Object(n.jsx)("h2",{className:"title",children:f}),Object(n.jsxs)("h1",{className:"price",children:["".concat(d," ").concat(b),Object(n.jsx)("sup",{children:h})]}),Object(n.jsx)("button",{className:"btn",children:"Comprar"})]})]}),Object(n.jsxs)("div",{className:"description",children:[Object(n.jsx)("span",{children:"Descripci\xf3n del producto"}),Object(n.jsx)("p",{children:m})]})]})]})}return Object(n.jsxs)("div",{className:"product-details",children:[t,c]})}))),P=(c(59),function(){return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(d,{}),Object(n.jsx)("section",{className:"main",children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",children:Object(n.jsx)(S,{text:"Bienvenido, inicia tu b\xfasqueda"})}),Object(n.jsx)(l.a,{exact:!0,path:"/items",children:Object(n.jsx)(w,{})}),Object(n.jsx)(l.a,{exact:!0,path:"/items/:id",children:Object(n.jsx)(k,{})})]})})]})}),U=c(15),L=c(27),G=c.n(L)()({loading:!1,products:[],filters:[],productDetail:{author:{},item:{price:{}}}}),q=Object(U.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return e.merge({products:t.products,filters:t.filters,loading:!1});case x:return e.merge({loading:!0});case g:return e.merge({loading:!1});case N:return e.merge({productDetail:t.productDetail,filters:t.filters,loading:!1});case v:return e.merge({loading:!0});case T:return e.merge({loading:!1});default:return e}}));i.a.render(Object(n.jsx)(a.a,{store:q,children:Object(n.jsx)(P,{})}),document.getElementById("root")),o()}},[[60,1,2]]]);
//# sourceMappingURL=main.1af947c9.chunk.js.map