{"version":3,"sources":["reportWebVitals.js","components/Searchbox.js","actiontypes/index.js","actions/actions.js","components/Breadcrumb.js","components/Product.js","components/Loader.js","components/Message.js","components/Products.js","components/ProductDetails.js","App.js","reducers/index.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","withRouter","history","useState","searchText","setSearchText","handleChangeSearchText","event","key","push","target","value","className","src","alt","onClick","type","placeholder","name","onChange","onKeyDown","START_GET_PRODUCTS","SUCCES_GET_PRODUCTS","ERROR_GET_PRODUCTS","START_GET_PRODUCT_DETAILS","SUCCES_GET_PRODUCT_DETAILS","ERROR_GET_PRODUCT_DETAILS","url","getProducts","dispatch","a","fetch","result","json","response","results","data","products","slice","filters","categories","getProductDetail","productId","productDetail","item","Breadcrumb","join","line","product","last","price","currency","amount","title","picture","city","_id","height","width","Loader","Message","text","Products","loader","noItemsMessage","productsList","location","useLocation","search","values","queryString","parse","useSelector","store","loading","useDispatch","useEffect","length","map","index","props","match","params","id","decimals","condition","sold_quantity","description","status","toLowerCase","soldText","App","exact","path","initialState","Immutable","author","createStore","state","action","merge","ReactDOM","render","document","getElementById"],"mappings":"oUAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,sBCkCCQ,G,MAAAA,aApCG,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAAa,EAEOC,mBAAS,IAFhB,mBAEtBC,EAFsB,KAEVC,EAFU,KAIvBC,EAAyB,SAACC,GACV,UAAdA,EAAMC,KACNN,EAAQO,KAAR,wBAA8BL,IAElCC,EAAcE,EAAMG,OAAOC,QAU/B,OACI,sBAAKC,UAAU,SAAf,UACI,qBAAKC,IAAI,iBAAiBD,UAAU,OAAOE,IAAI,qBAAqBC,QAPrD,WACnBV,EAAc,IACdH,EAAQO,KAAK,QAMT,sBAAKG,UAAU,SAAf,UACI,uBACII,KAAK,OACLC,YAAY,wBACZC,KAAK,SACLP,MAAOP,EACPe,SAAUb,EACVc,UAAWd,IAEf,wBAAQS,QAnBM,kBAAMb,EAAQO,KAAR,wBAA8BL,KAmBlD,SAAoC,qBAAKS,IAAI,qBAAqBC,IAAI,4B,0CCnCzEO,EAAqB,qBACrBC,EAAsB,sBACtBC,EAAqB,qBACrBC,EAA4B,4BAC5BC,EAA6B,6BAC7BC,EAA4B,4BCInCC,EAAM,OAENC,EAAW,uCAAG,WAAOC,EAAUzB,GAAjB,qBAAA0B,EAAA,sEAEZD,EAAS,CACLb,KAAMK,IAHE,SAKSU,MAAM,GAAD,OAAIJ,EAAJ,oBAAmBvB,IALjC,cAKN4B,EALM,gBAMWA,EAAOC,OANlB,OAMNC,EANM,OASNC,EAAUD,EAASE,KAAKC,SAASC,MAAM,EAAG,GAC5CC,EAAUL,EAASE,KAAKI,YAAc,GAE1CX,EAAS,CACLb,KAAMM,EACNe,SAAUF,EACVI,YAfQ,wDAkBZV,EAAS,CACLb,KAAMO,IAnBE,uEAAH,wDAyBXkB,EAAgB,uCAAG,WAAOZ,EAAUa,GAAjB,iBAAAZ,EAAA,sEAEjBD,EAAS,CACLb,KAAMQ,IAHO,SAOIO,MAAM,GAAD,OAAIJ,EAAJ,kBAAiBe,IAP1B,cAOXV,EAPW,gBAQMA,EAAOC,OARb,OAQXC,EARW,OAYjBL,EAAS,CACLb,KAAMS,EACNkB,cAAeT,EAASE,KACxBG,QAASL,EAASE,KAAKQ,KAAKJ,aAff,kDAkBjBX,EAAS,CACLb,KAAMU,IAnBO,kEAAH,wDC3BPmB,G,MANI,SAAC,GAAD,QAAEN,eAAF,MAAY,GAAZ,SACf,qBAAK3B,UAAU,aAAf,SACI,4BAAI2B,EAAQO,KAAK,aCyBV7C,G,MAAAA,aA1BC,SAAC,GAA8B,IAMvC8C,EANU7C,EAA4B,EAA5BA,QAAS8C,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,KAAU,EAE6BD,EAAhEJ,KAFmC,IAE5BM,MAAQC,EAFoB,EAEpBA,SAAUC,EAFU,EAEVA,OAASC,EAFC,EAEDA,MAAOC,EAFN,EAEMA,QAASC,EAFf,EAEeA,KAAOC,EAAOR,EAAPQ,IAShE,OAJKP,IACDF,EAAO,oBAAInC,UAAU,cAIrB,sBAAKA,UAAU,UAAf,UACI,0BAASA,UAAU,eAAeG,QATd,kBAAMb,EAAQO,KAAR,iBAAuB+C,KASjD,UACI,qBAAK3C,IAAKyC,EAASG,OAAO,MAAMC,MAAM,QACtC,sBAAK9C,UAAU,eAAf,UACI,uCAAQuC,EAAR,YAAoBC,KACpB,4BAAIC,OAER,gCAAQE,OAEXR,SCpBEY,G,MAFA,kBAAM,qBAAK/C,UAAU,aCMrBgD,G,MANC,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAF,OACZ,qBAAKjD,UAAU,UAAf,SACI,6BAAKiD,QCgDEC,G,MAxCE,WACb,IAcIC,EAAQC,EAAgBC,EAdtBC,EAAWC,cACVC,EAAUF,EAAVE,OACDC,EAASC,IAAYC,MAAMH,GAE3B/B,EAAWmC,aAAY,SAAAC,GAAK,OAAIA,EAAMpC,YACtCE,EAAUiC,aAAY,SAAAC,GAAK,OAAIA,EAAMlC,WACrCmC,EAAUF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,WAErC7C,EAAW8C,cAqBjB,OAnBAC,qBAAU,WACNhD,EAAYC,EAAUwC,EAAOD,UAC9B,CAACF,IAGAQ,EACAX,EAAS,cAAC,EAAD,IAEL1B,EAASwC,OACTZ,EACI,yBAASrD,UAAU,OAAnB,SACKyB,EAASyC,KAAI,SAAC9B,EAAS+B,GAAV,OAAoB,cAAC,EAAD,CAAS/B,QAASA,EAA2BC,KAAM8B,IAAU1C,EAASwC,OAAS,GAA/C7B,EAAQQ,UAIlFQ,EAAiB,cAAC,EAAD,CAASH,KAAK,0DAKnC,sBAAKjD,UAAU,WAAf,UACI,cAAC,EAAD,CAAY2B,QAASA,IACpBwB,EACAC,EACAC,OCiBEhE,G,MAAAA,aAvDQ,SAAC+E,GAEpB,IAUIjB,EAAQf,EAVNL,EAAgB6B,aAAY,SAAAC,GAAK,OAAIA,EAAM9B,iBAC3CJ,EAAUiC,aAAY,SAAAC,GAAK,OAAIA,EAAMlC,WACrCmC,EAAUF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,WAErC7C,EAAW8C,cAOjB,GALAC,qBAAU,WACNnC,EAAiBZ,EAAUmD,EAAMC,MAAMC,OAAOC,MAC/C,IAGCT,EACAX,EAAS,cAAC,EAAD,QACN,CAAC,IAAD,EAC0GpB,EAAtGC,KADJ,IACWM,MAAQC,EADnB,EACmBA,SAAUC,EAD7B,EAC6BA,OAAQgC,EADrC,EACqCA,SAAWC,EADhD,EACgDA,UAAWC,EAD3D,EAC2DA,cAAejC,EAD1E,EAC0EA,MAAOC,EADjF,EACiFA,QAASiC,EAD1F,EAC0FA,YAGzFC,EAASH,EACb,GAAIA,GAAyC,UAA5BA,EAAUI,cAA2B,CAClD,IAAIC,EAA6B,IAAlBJ,EAAqB,UAAY,WAChDE,EAAM,UAAMH,EAAN,cAAqBC,EAArB,YAAsCI,GAGhD1C,EACI,gCACI,cAAC,EAAD,CAAYT,QAASA,IACrB,0BAAS3B,UAAU,eAAnB,UACI,sBAAKA,UAAU,cAAf,UACI,qBAAKC,IAAKyC,EAASxC,IAAI,yBACvB,sBAAKF,UAAU,UAAf,UACI,oBAAIA,UAAU,YAAd,SAA2B4E,IAC3B,oBAAI5E,UAAU,QAAd,SAAuByC,IACvB,qBAAIzC,UAAU,QAAd,oBAA0BuC,EAA1B,YAAsCC,GAAS,8BAAMgC,OACrD,wBAAQxE,UAAU,MAAlB,2BAGR,sBAAKA,UAAU,cAAf,UACI,+DACA,4BAAI2E,aAOxB,OACI,sBAAK3E,UAAU,kBAAf,UACKmD,EACAf,SCnCE2C,G,MAfH,WACV,OACE,eAAC,IAAD,WACI,cAAC,EAAD,IACA,yBAAS/E,UAAU,OAAnB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOgF,OAAK,EAACC,KAAK,IAAlB,SAAsB,cAAC,EAAD,CAAShC,KAAK,wCACpC,cAAC,IAAD,CAAO+B,OAAK,EAACC,KAAK,SAAlB,SAA2B,cAAC,EAAD,MAC3B,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,aAAlB,SAA+B,cAAC,EAAD,gB,gBCPzCC,E,MAAeC,GAAU,CAC3BrB,SAAS,EACTrC,SAAU,GACVE,QAAS,GACTI,cAAe,CAACqD,OAAQ,GAAIpD,KAAK,CAACM,MAAM,OAwC7BuB,EAFDwB,aAnCQ,WAAmC,IAAlCC,EAAiC,uDAAzBJ,EAAcK,EAAW,uCACpD,OAAOA,EAAOnF,MACV,KAAKM,EACD,OAAO4E,EAAME,MAAM,CACf/D,SAAU8D,EAAO9D,SACjBE,QAAS4D,EAAO5D,QAChBmC,SAAS,IAEjB,KAAKrD,EACD,OAAO6E,EAAME,MAAM,CACf1B,SAAS,IAEjB,KAAKnD,EACD,OAAO2E,EAAME,MAAM,CACf1B,SAAS,IAEjB,KAAKjD,EACD,OAAOyE,EAAME,MAAM,CACfzD,cAAewD,EAAOxD,cACtBJ,QAAS4D,EAAO5D,QAChBmC,SAAS,IAEjB,KAAKlD,EACD,OAAO0E,EAAME,MAAO,CAChB1B,SAAS,IAEjB,KAAKhD,EACD,OAAOwE,EAAME,MAAM,CACf1B,SAAS,IAEjB,QACI,OAAOwB,MCzCnBG,IAASC,OACP,cAAC,IAAD,CAAU7B,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEF8B,SAASC,eAAe,SAM1BhH,M","file":"static/js/main.1af947c9.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, {useState} from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport './styles/Searchbox.scss';\n\nconst Searchbox = ({history}) => {\n\n    const [searchText, setSearchText] = useState('');\n\n    const handleChangeSearchText = (event) => {\n        if (event.key === 'Enter') {\n            history.push(`/items?search=${searchText}`);\n        }\n        setSearchText(event.target.value);\n    }\n\n    const handleGetProducts = () => history.push(`/items?search=${searchText}`);\n\n    const handleGoToHome = () => {\n        setSearchText('');\n        history.push('/');\n    }\n\n    return (\n        <div className=\"header\">\n            <img src=\"/images/ml.png\" className=\"logo\" alt=\"Mercado Libre logo\" onClick={handleGoToHome}/>\n            <div className=\"search\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Nunca dejes de buscar\"\n                    name=\"search\"\n                    value={searchText}\n                    onChange={handleChangeSearchText}\n                    onKeyDown={handleChangeSearchText}\n                />\n                <button onClick={handleGetProducts}><img src=\"/images/buscar.png\" alt=\"search icon\"/></button>\n            </div>\n        </div>\n    )\n}\n\nexport default withRouter(Searchbox);\nexport {Searchbox};","export const START_GET_PRODUCTS = 'START_GET_PRODUCTS';\nexport const SUCCES_GET_PRODUCTS = 'SUCCES_GET_PRODUCTS';\nexport const ERROR_GET_PRODUCTS = 'ERROR_GET_PRODUCTS';\nexport const START_GET_PRODUCT_DETAILS = 'START_GET_PRODUCT_DETAILS';\nexport const SUCCES_GET_PRODUCT_DETAILS = 'SUCCES_GET_PRODUCT_DETAILS';\nexport const ERROR_GET_PRODUCT_DETAILS = 'ERROR_GET_PRODUCT_DETAILS';\n","import {\n    START_GET_PRODUCTS,\n    SUCCES_GET_PRODUCTS,\n    ERROR_GET_PRODUCTS,\n    START_GET_PRODUCT_DETAILS,\n    SUCCES_GET_PRODUCT_DETAILS,\n    ERROR_GET_PRODUCT_DETAILS\n} from '../actiontypes/index';\n\nconst url = '/api';\n\nconst getProducts = async (dispatch, searchText) => {\n    try{\n        dispatch({\n            type: START_GET_PRODUCTS\n        });\n        const result = await fetch(`${url}/items?q=${searchText}`);\n        const response = await result.json();\n\n        // always only save first 4 elements on the store\n        const results = response.data.products.slice(0, 4);\n        let filters = response.data.categories || [];\n\n        dispatch({\n            type: SUCCES_GET_PRODUCTS,\n            products: results,\n            filters\n        });\n    } catch(err) {\n        dispatch({\n            type: ERROR_GET_PRODUCTS\n        });\n        throw err;\n    };\n}\n\nconst getProductDetail = async (dispatch, productId) => {\n    try{\n        dispatch({\n            type: START_GET_PRODUCT_DETAILS,\n        });\n\n        debugger;\n        const result = await fetch(`${url}/items/${productId}`);\n        const response = await result.json();\n\n        debugger;\n        \n        dispatch({\n            type: SUCCES_GET_PRODUCT_DETAILS,\n            productDetail: response.data,\n            filters: response.data.item.categories\n        });\n    } catch(err){\n        dispatch({\n            type: ERROR_GET_PRODUCT_DETAILS\n        });\n    };    \n}\n\nexport {getProducts, getProductDetail};\n","import React from 'react';\nimport './styles/Breadcrumb.scss';\n\nconst Breadcrumb = ({filters = []}) => (\n    <div className=\"breadcrumb\">\n        <p>{filters.join(' > ')}</p>\n    </div>\n);\n\nexport default Breadcrumb;\n","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport './styles/Product.scss';\n\nconst Product = ({history, product, last}) => {\n\n    const {item: {price: {currency, amount}, title, picture, city}, _id} = product;\n\n    const handleProductDetail = () => history.push(`/items/${_id}`);\n\n    let line;\n    if (!last) {\n        line = <hr className=\"division\"/>;\n    }\n\n    return (\n        <div className=\"product\">\n            <section className=\"product-item\" onClick={handleProductDetail}>\n                <img src={picture} height=\"180\" width=\"180\" />\n                <div className=\"product-info\">\n                    <h3>{`${currency} ${amount}`}</h3>\n                    <p>{title}</p>\n                </div>\n                <small>{city}</small>\n            </section>\n            {line}\n        </div>\n    )\n};\n\nexport default withRouter(Product);\nexport {Product}\n","import React from 'react';\nimport './styles/Loader.scss';\n\nconst Loader = () => <div className=\"loader\"/>;\n\nexport default Loader;\n","import React from 'react';\nimport './styles/Message.scss';\n\nconst Message = ({text}) => (\n    <div className=\"message\">\n        <h3>{text}</h3>\n    </div>\n);\n\nexport default Message;\n","import React, {useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport queryString from 'query-string';\nimport { useLocation } from 'react-router-dom';\n\nimport { getProducts } from '../actions/actions';\nimport Breadcrumb from './Breadcrumb';\nimport Product from './Product';\nimport Loader from './Loader';\nimport Message from './Message';\n\nimport './styles/Products.scss';\n\nconst Products = () => {\n    const location = useLocation();\n    const {search} = location;\n    const values = queryString.parse(search)\n\n    const products = useSelector(store => store.products);\n    const filters = useSelector(store => store.filters);\n    const loading = useSelector(store => store.loading);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        getProducts(dispatch, values.search);\n    }, [location]);\n\n    let loader, noItemsMessage, productsList;\n    if (loading) {\n        loader = <Loader/>;\n    } else {\n        if (products.length) {\n            productsList = (\n                <section className=\"list\">\n                    {products.map((product, index) => <Product product={product} key={product._id} last={index === products.length - 1} />)}\n                </section>\n            );\n        } else {\n            noItemsMessage = <Message text=\"No existen productos que coincidan con la búsqueda\" />;\n        }\n    }\n\n    return (\n        <div className=\"products\">\n            <Breadcrumb filters={filters}/>\n            {loader}\n            {noItemsMessage}\n            {productsList}\n        </div>\n    )\n}\n\nexport default Products;\n","import React, {useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport Breadcrumb from './Breadcrumb';\nimport Loader from './Loader';\nimport { getProductDetail } from '../actions/actions';\n\nimport './styles/ProductDetails.scss';\n\nconst ProductDetails = (props) => {\n\n    const productDetail = useSelector(store => store.productDetail);\n    const filters = useSelector(store => store.filters);\n    const loading = useSelector(store => store.loading);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        getProductDetail(dispatch, props.match.params.id);\n    }, []);\n\n    let loader, product;\n    if (loading) {\n        loader = <Loader />;\n    } else {\n        const {item: {price: {currency, amount, decimals}, condition, sold_quantity, title, picture, description}} = productDetail;\n\n\n        let status = condition; \n        if (condition && condition.toLowerCase() === 'nuevo') {\n            let soldText = sold_quantity === 1? 'vendido' : 'vendidos';\n            status = `${condition} - ${sold_quantity} ${soldText}`;\n        }\n\n        product = (\n            <div>\n                <Breadcrumb filters={filters}/>\n                <section className=\"product-info\">\n                    <div className=\"information\">\n                        <img src={picture} alt=\"Product detail image\"/>\n                        <div className=\"details\">\n                            <h5 className=\"condition\">{status}</h5>\n                            <h2 className=\"title\">{title}</h2>\n                            <h1 className=\"price\">{`${currency} ${amount}`}<sup>{decimals}</sup></h1>\n                            <button className=\"btn\">Comprar</button>\n                        </div>\n                    </div>\n                    <div className=\"description\">\n                        <span>Descripción del producto</span>\n                        <p>{description}</p>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"product-details\">\n            {loader}\n            {product}\n        </div>\n    )\n}\n\nexport default withRouter(ProductDetails);\nexport {ProductDetails};\n","import {Switch, Route, BrowserRouter as Router} from \"react-router-dom\";\nimport React from 'react';\n\nimport Searchbox from './components/Searchbox'\nimport Products from './components/Products';\nimport ProductDetails from './components/ProductDetails'\nimport Message from './components/Message';\n\nimport './App.scss';\n\nconst App = () => {\n  return (\n    <Router>\n        <Searchbox/>\n        <section className=\"main\">\n            <Switch>\n                <Route exact path=\"/\"><Message text=\"Bienvenido, inicia tu búsqueda\" /></Route>\n                <Route exact path=\"/items\"><Products/></Route>\n                <Route exact path=\"/items/:id\"><ProductDetails /></Route>\n            </Switch>\n        </section>\n    </Router>\n  );\n}\n\nexport default App;\n","import {createStore} from 'redux';\nimport Immutable from 'seamless-immutable';\nimport {\n    START_GET_PRODUCTS,\n    SUCCES_GET_PRODUCTS,\n    ERROR_GET_PRODUCTS,\n    START_GET_PRODUCT_DETAILS,\n    SUCCES_GET_PRODUCT_DETAILS,\n    ERROR_GET_PRODUCT_DETAILS\n} from '../actiontypes/index';\n\nconst initialState = Immutable({\n    loading: false,\n    products: [],\n    filters: [],\n    productDetail: {author: {}, item:{price:{}}}\n});\n\nconst productsStore = (state = initialState, action) => {\n    switch(action.type) {\n        case SUCCES_GET_PRODUCTS:\n            return state.merge({\n                products: action.products,\n                filters: action.filters,\n                loading: false\n            });\n        case START_GET_PRODUCTS:\n            return state.merge({\n                loading: true\n            });\n        case ERROR_GET_PRODUCTS:\n            return state.merge({\n                loading: false\n            });\n        case SUCCES_GET_PRODUCT_DETAILS:\n            return state.merge({\n                productDetail: action.productDetail,\n                filters: action.filters,\n                loading: false\n            });\n        case START_GET_PRODUCT_DETAILS:\n            return state.merge ({\n                loading: true\n            });\n        case ERROR_GET_PRODUCT_DETAILS:\n            return state.merge({\n                loading: false\n            });\n        default:\n            return state;\n    }\n}\n\nconst store = createStore(productsStore);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport reportWebVitals from './reportWebVitals';\n\nimport App from './App';\nimport store from './reducers';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}